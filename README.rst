Code from `An Introduction to Flask <http://shop.oreilly.com/product/0636920034797.do>`_
==============